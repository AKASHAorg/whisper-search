{"version":3,"sources":["../../src/transport.js"],"names":["Readable","require","TransportIndex","opt","_max","_index","i","push","str","buf","Buffer","from"],"mappings":";;;;;;;;;;AAAA,IAAMA,WAAWC,QAAQ,QAAR,EAAkBD,QAAnC;;IAEME,c;;;AACJ,0BAAYC,GAAZ,EAAiB;AAAA;;AAAA,gIACTA,GADS;;AAEf,UAAKC,IAAL,GAAY,OAAZ;AACA,UAAKC,MAAL,GAAc,CAAd;AAHe;AAIhB;;;;4BAEO;AACN,UAAMC,IAAI,KAAKD,MAAL,EAAV;AACA,UAAIC,IAAI,KAAKF,IAAb,EACE,KAAKG,IAAL,CAAU,IAAV,EADF,KAEK;AACH,YAAMC,MAAM,KAAKF,CAAjB;AACA,YAAMG,MAAMC,OAAOC,IAAP,CAAYH,GAAZ,EAAiB,OAAjB,CAAZ;AACA,aAAKD,IAAL,CAAUE,GAAV;AACD;AACF;;;;EAhB0BT,Q","file":"transport.js","sourcesContent":["const Readable = require('stream').Readable;\n\nclass TransportIndex extends Readable {\n  constructor(opt) {\n    super(opt);\n    this._max = 1000000;\n    this._index = 1;\n  }\n\n  _read() {\n    const i = this._index++;\n    if (i > this._max)\n      this.push(null);\n    else {\n      const str = '' + i;\n      const buf = Buffer.from(str, 'ascii');\n      this.push(buf);\n    }\n  }\n}\n"]}